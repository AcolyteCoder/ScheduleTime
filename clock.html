<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Schedule Homepage</title>
  <style>
    :root {
      --bg-color: #f4f4f4;
      --text-color: #333;
      --nav-bg: #2c3e50;
      --progress-bg: #e0e0e0;
      --progress-fill: #3498db;
    }

    body.dark {
      --bg-color: #1e1e1e;
      --text-color: #f4f4f4;
      --nav-bg: #34495e;
      --progress-bg: #333;
      --progress-fill: #9b59b6;
    }

    body {
      margin: 0;
      display: flex;
      height: 100vh;
      font-family: Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
    }

    nav {
      background-color: var(--nav-bg);
      color: white;
      padding: 20px;
      width: 200px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    nav a {
      color: white;
      text-decoration: none;
    }

    .content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
      justify-content: center;
    }

    .progress-container {
      background-color: var(--progress-bg);
      border-radius: 10px;
      overflow: hidden;
      width: 100%;
      height: 30px;
    }

    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: var(--progress-fill);
      transition: width 0.2s ease-in-out;
    }

    .toggle-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .toggle-container label {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .time-left {
      font-size: 0.9em;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <nav>
    <a href="#">Home</a>
    <a href="#">Schedule</a>
    <a href="#">Shop</a>
    <a href="#">Settings</a>
    <label>
      <input type="checkbox" id="darkToggle" /> Dark Mode
    </label>
    <label>
      <input type="checkbox" id="seventhToggle" checked /> Include 7th Period
    </label>
  </nav>

  <div class="content" id="progressArea">
    <div class="toggle-container">
      <h2>Today's Schedule</h2>
    </div>
    <div id="schedule"></div>
  </div>

  <script>
    const scheduleData = {
      'Monday': [
                { name: '0 Period', start: '07:00', end: '08:00' },
                { name: 'Passing 1', start: '08:00', end: '08:10' },
                { name: '1st Period', start: '08:10', end: '09:00' },
                { name: 'Passing 2', start: '09:00', end: '09:05' },
                { name: '2nd Period', start: '09:05', end: '09:55' },
                { name: 'Passing 3', start: '09:55', end: '10:05' },
                { name: '3rd Period', start: '10:05', end: '10:55' },
                { name: 'Passing 4', start: '10:55', end: '11:00' },
                { name: '4th Period', start: '11:00', end: '11:50' },
                { name: 'Lunch', start: '11:50', end: '12:25' },
                { name: 'Passing 5', start: '12:25', end: '12:30' },
                { name: '5th Period', start: '12:30', end: '13:20' },
                { name: 'Passing 6', start: '13:20', end: '13:25' },
                { name: '6th Period', start: '13:25', end: '14:15' },
                { name: 'Passing 7', start: '14:15', end: '14:25' },
                { name: '7th Period', start: '14:25', end: '15:25' }
            ],
            'Tuesday': [
                  { name: 'Passing 1', start: '08:00', end: '08:10' },
                { name: '1st Period', start: '08:10', end: '09:00' },
                { name: 'Passing 2', start: '09:00', end: '09:05' },
                { name: '2nd Period', start: '09:05', end: '09:55' },
                { name: 'Passing 3', start: '09:55', end: '10:05' },
                { name: '3rd Period', start: '10:05', end: '10:55' },
                { name: 'Passing 4', start: '10:55', end: '11:00' },
                { name: '4th Period', start: '11:00', end: '11:50' },
                { name: 'Lunch', start: '11:50', end: '12:25' },
                { name: 'Passing 5', start: '12:25', end: '12:30' },
                { name: '5th Period', start: '12:30', end: '13:20' },
                { name: 'Passing 6', start: '13:20', end: '13:25' },
                { name: '6th Period', start: '13:25', end: '14:15' },
                { name: 'Passing 7', start: '14:15', end: '14:25' },
                { name: '7th Period', start: '14:25', end: '15:25' }
            ],
            'Wednesday': [
                { name: '0 Period', start: '07:00', end: '08:00' },
                { name: 'Passing 1', start: '08:00', end: '08:10' },
                { name: '1st Period', start: '08:10', end: '09:35' },
                { name: 'Passing 2', start: '09:35', end: '09:45' },
                { name: '3rd Period', start: '09:45', end: '11:10' },
                { name: 'Passing 3', start: '11:10', end: '11:15' },
                { name: 'SOAR', start: '11:15', end: '12:05' },
                { name: 'Lunch', start: '12:05', end: '12:40' },
                { name: 'Passing 4', start: '12:40', end: '12:50' },
                { name: '5th Period', start: '12:50', end: '14:15' },
                { name: 'Passing 5', start: '14:15', end: '14:25' },
                { name: '7th Period', start: '14:25', end: '15:25' }
            ],
            'Thursday': [
                { name: '0 Period', start: '07:00', end: '08:00' },
                { name: 'Passing 1', start: '08:00', end: '08:10' },
                { name: '2nd Period', start: '08:10', end: '09:35' },
                { name: 'Passing 2', start: '09:35', end: '09:45' },
                { name: '4th Period', start: '09:45', end: '11:10' },
                { name: 'Passing 3', start: '11:10', end: '11:15' },
                { name: 'SOAR', start: '11:15', end: '12:05' },
                { name: 'Lunch', start: '12:05', end: '12:40' },
                { name: 'Passing 4', start: '12:40', end: '12:50' },
                { name: '6th Period', start: '12:50', end: '14:15' },
                { name: 'Passing 5', start: '14:15', end: '14:25' },
                { name: '7th Period', start: '14:25', end: '15:25' }
            ],
            'Friday': [
                { name: '1st Period', start: '09:00', end: '09:45' },
                { name: 'Passing 1', start: '09:45', end: '09:50' },
                { name: '2nd Period', start: '09:50', end: '10:35' },
                { name: 'Passing 2', start: '10:35', end: '10:45' },
                { name: '3rd Period', start: '10:45', end: '11:30' },
                { name: 'Passing 3', start: '11:30', end: '11:35' },
                { name: '4th Period', start: '11:35', end: '12:20' },
                { name: 'Lunch', start: '12:20', end: '12:55' },
                { name: 'Passing 4', start: '12:55', end: '13:00' },
                { name: '5th Period', start: '13:00', end: '13:45' },
                { name: 'Passing 5', start: '13:45', end: '13:50' },
                { name: '6th Period', start: '13:50', end: '14:35' }
      ]
    };

    const scheduleContainer = document.getElementById('schedule');

    function createProgress(name, percent, timeLeftText) {
      const container = document.createElement('div');
      const label = document.createElement('div');
      label.innerText = name;
      const timeLeft = document.createElement('div');
      timeLeft.className = 'time-left';
      timeLeft.innerText = timeLeftText;
      const barContainer = document.createElement('div');
      barContainer.className = 'progress-container';
      const bar = document.createElement('div');
      bar.className = 'progress-bar';
      bar.style.width = percent + '%';
      barContainer.appendChild(bar);
      container.appendChild(label);
      container.appendChild(timeLeft);
      container.appendChild(barContainer);
      return container;
    }

    function formatTimeLeft(msLeft) {
      if (msLeft <= 0) return 'Ended';
      const totalSeconds = Math.floor(msLeft / 1000);
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      return `${hours}h ${minutes}m ${seconds}s left`;
    }

    function updateSchedule() {
      scheduleContainer.innerHTML = '';
      const now = new Date();
      const day = now.toLocaleDateString('en-US', { weekday: 'long' });
      const periods = scheduleData[day] || [];
      const include7th = document.getElementById('seventhToggle').checked;

      for (const period of periods) {
        if (!include7th && period.name.includes('7th')) continue;
        const start = new Date();
        const [sh, sm] = period.start.split(':');
        start.setHours(sh, sm, 0, 0);
        const end = new Date();
        const [eh, em] = period.end.split(':');
        end.setHours(eh, em, 0, 0);

        const total = end - start;
        const elapsed = now - start;
        const remaining = end - now;
        let percent = Math.max(0, Math.min(100, (elapsed / total) * 100));

        const timeLeftText = formatTimeLeft(remaining);
        const progress = createProgress(period.name, percent, timeLeftText);
        scheduleContainer.appendChild(progress);
      }
    }

    document.getElementById('darkToggle').addEventListener('change', (e) => {
      document.body.classList.toggle('dark', e.target.checked);
    });

    document.getElementById('seventhToggle').addEventListener('change', updateSchedule);

    updateSchedule();
    setInterval(updateSchedule, 1000);
  </script>
</body>
</html>
